<h1>{{ title }}</h1>

<div class="viewNavigation">
    <a href ng-click="fetch()" class="btn btn-info"><i class="glyphicon glyphicon-refresh"></i> Update</a>
    
    <div class="clearfix"></div>
    
    <!-- Datepicker -->
    <div class="datepicker" ng-show="viewFunctions.datePicker">
        <div class="datepicker-container">
            <span class="hidden-xs">Start date</span>
            
            <a href class="visible-xs-block btn btn-default" 
               ng-click="toggleDatepicker('first')">
                Start date <i class="glyphicon" 
                              ng-class="datepickerFirst === true 
                                        ? 'glyphicon-eye-close' 
                                        : 'glyphicon-eye-open'"></i>
            </a>
            
            <uib-datepicker class="datepicker-firstdate" 
                            ng-model="datePicker.firstDate" 
                            show-weeks="true" 
                            ng-click="datePicker.secondDate < datePicker.firstDate 
                                      ? datePicker.secondDate = datePicker.firstDate 
                                      : datePicker.secondDate = datePicker.secondDate"
                            ng-class="datepickerFirst === true 
                                      ? 'visible-xs-block' 
                                      : 'hidden-xs'"></uib-datepicker>
        </div>
        
        <div class="datepicker-container">
            <span class="hidden-xs">End date</span>
            
            <a href class="visible-xs-block btn btn-default" 
               ng-click="toggleDatepicker('second')">
                End date <i class="glyphicon" 
                            ng-class="datepickerSecond === true 
                                      ? 'glyphicon-eye-close' 
                                      : 'glyphicon-eye-open'"></i>
            </a>
            
            <uib-datepicker class="datepicker-seconddate" 
                            ng-model="datePicker.secondDate" 
                            min-date="datePicker.firstDate" 
                            show-weeks="true" 
                            class="well well-sm"
                            ng-class="datepickerSecond === true 
                                      ? 'visible-xs-block' 
                                      : 'hidden-xs'"></uib-datepicker>
        </div>
    </div>
    
    <div class="clearfix"></div>
</div>

<table class="table table-striped table-hover">
    <thead>
        <tr>
            <td ng-repeat="value in values">
                <h3>
                    {{ value.shownName }}
                </h3>
            </td>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="item in items">
            <td ng-repeat="value in values">
                {{ findMatch(item, value.matchValue) }}
            </td>
        </tr>
    </tbody>
</table>

<table class="table table-striped table-hover" id="printSection">
    <thead>
        <tr>
            <td ng-repeat="value in values">
                <h3>
                    {{ value.shownName }}
                </h3>
            </td>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="item in items">
            <td ng-repeat="value in values">
                {{ findMatch(item, value.matchValue) }}
            </td>
        </tr>
    </tbody>
</table>

<div class="viewNavigation">
    <!-- Print -->
    <a href class="btn btn-default" ng-click="print()" ng-show="viewFunctions.print" ng-print print-element-id="printSection"><i class="glyphicon glyphicon-print"></i> Print</a>
    
    <div class="clearfix"></div>
</div>