<!doctype html>
<html ng-app="SimPlannerApp">
    <head>
        <!-- META -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Optimize mobile viewport -->
        <meta name="author" content="Michael Tot Korsgaard & Adi Tanase">

        <title>Simplanner</title>
        
        <link rel="icon" type="image/png" href="favicon.png">
        
        <!-- Load Bootstrap CSS library -->
        <link type="text/css" href="lib/bootstrap-3.3.5-dist/css/bootstrap.min.css" rel="stylesheet">

        <!-- Load AngularJS modules -->
        <script src="lib/Angular-1.4.7/angular.min.js"></script>
        <script src="lib/Angular-1.4.7/angular-animate.min.js"></script>
        <script src="lib/Angular-1.4.7/angular-ui-router.min.js"></script>
        <script src="lib/Angular-1.4.7/angular-ui-bootstrap-tpls-0.14.3.min.js"></script>
        <script src="lib/Angular-1.4.7/angular-ngStorage.js"></script>
        
        <!-- Load AngularJS Application -->
        <!-- Core -->
        <script src="scripts/core.js"></script>
        <!-- Routes -->
        <script src="scripts/route.js"></script>
        <!-- Directives -->
        <script src="scripts/directives/ngPrint.directive.js"></script>
        <!-- Filters -->
        <script src="scripts/filters/capitalize.filter.js"></script>
        <script src="scripts/filters/datetime.filter.js"></script>
        <!-- Services -->
        <script src="scripts/services/config.service.js"></script>
        <script src="scripts/services/socket.service.js"></script>
        <script src="scripts/services/user.service.js"></script>
        <!-- Controllers -->
        <script src="scripts/controllers/nav.controller.js"></script>
        <script src="scripts/controllers/welcome.controller.js"></script>
        <script src="scripts/controllers/view.controller.js"></script>
        <script src="scripts/controllers/error.controller.js"></script>
        
        <!-- Our CSS -->
        <link type="text/css" href="assets/styles/main.css" rel="stylesheet">
        <link type="text/css" href="assets/styles/nav.css" rel="stylesheet">
    </head>

    <body>
        <nav ng-controller="navController">
            <div class="wrapper">
                <div class="menu" ng-show="user.isLoggedIn">
                    <span class="icon">
                        <i class="glyphicon glyphicon-menu-hamburger"></i> <span class="hidden-xs">Menu</span>
                    </span>

                    <ul>
                        <li ng-repeat="view in nav">
                            <a href="#/view/{{ view.route }}">{{ view.route }}</a>
                        </li>
                    </ul>
                </div>

                <div class="account">
                    <div ng-hide="user.isLoggedIn">
                        <form class="form-inline" name="loginForm">
                          <div class="form-group">
                            <label class="sr-only" for="username">Username</label>
                            <input type="text" class="form-control" id="username" placeholder="Username" ng-model="user.username" required>
                          </div>
                          <div class="form-group">
                            <label class="sr-only" for="password">Password</label>
                            <input type="password" class="form-control" id="password" placeholder="Password" ng-model="user.password" required>
                          </div>
                          <a class="btn btn-default" ng-click="signIn(user)" ng-disabled="loginForm.$invalid">Sign in</a>
                        </form>
                    </div>
                    
                    <div ng-show="user.isLoggedIn">
                        <span class="icon">
                            <span class="hidden-xs">{{ user.username }}</span> <i class="glyphicon glyphicon-user"></i>
                        </span>

                        <ul>
                            <li>
                                <a href="#/welcome">Sign out</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <span class="clearfix"></span>
        </nav>
        
        <!-- This is where page content is inserted to -->
        <div class="wrapper">
            <div ui-view></div>
        </div>
    </body>
</html>